(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{330:function(t,n,e){"use strict";e.d(n,"a",(function(){return i}));var o=e(0);function i(t,n){const e=t.options.name,i=function(t){const n=document.querySelector("."+t);if(n)return n;const e=document.createElement("div");e.className=t;const o=document.querySelector("#app")||document.body;return o&&o.appendChild(e),e}(e);return new o.a({el:i,data:{props:n},render(n){return n("div",{class:e},[n(t,{props:this.props,ref:"myChild"})])}})}},367:function(t,n,e){},368:function(t,n,e){},416:function(t,n,e){"use strict";e(367)},417:function(t,n,e){"use strict";e(368)},427:function(t,n,e){"use strict";e.r(n);var o=e(0),i=e(28),a=e(330),c=e(104),s=e(23),r=o.a.extend({name:"OPopupAction",components:{PopupBox:c.a,Icon:s.a},props:{visible:{type:Boolean,required:!0},maskClosable:{type:Boolean,default:!0},ad:{type:String},type:{type:String,validator:t=>["share"].includes(t)},cancel:{type:Function},confirm:{type:Function},actions:{type:Array,required:!0,validator:t=>{let n=!0;return t.forEach(t=>{"object"==typeof t&&void 0===t.name&&(n=!1)}),n}}},computed:{sharable(){return"share"===this.type},iconSideLength(){return this.sharable?48:24},actionClasses(){const t=[];if(this.type)t.push("share"),this.actions.length<4&&t.push("around");else{t.push("default");const n=this.actions&&this.actions[0];"object"==typeof n&&n.icon&&t.push("with-icon")}return t}},methods:{isDanger(t){let n=!1;return"object"==typeof t&&(n=!!t.danger),n},getActionName:t=>t.name,handleConfirm(t){const n=t.target,e=Number(n.getAttribute("data-index"));if(isNaN(e))return;const o=this.actions[e];this.confirm?this.confirm(o):this.$emit("confirm",o),this.handleCancel()},handleCancel(){this.cancel?this.cancel():this.$emit("cancel")},isIconDefaultPattern:t=>/^o-/.test(t)}}),l=(e(416),e(5)),p=Object(l.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("PopupBox",{staticClass:"popup-action",attrs:{title:t.sharable?"分享到":"",visible:t.visible,maskClosable:t.maskClosable,footerVisible:!0},on:{"update:visible":function(n){t.visible=n},cancel:t.handleCancel}},[e("main",{staticClass:"popup-action-wrapper"},[t.ad?e("Icon",{staticClass:"ad",style:{width:"100%"},attrs:{type:"img",url:t.ad}}):t._e(),t._v(" "),e("div",{staticClass:"popup-action-list",class:t.actionClasses,on:{click:t.handleConfirm}},t._l(t.actions,(function(n,o){return e("div",{key:o,staticClass:"popup-action-item",attrs:{"data-index":o}},[n.icon?[t.isIconDefaultPattern(n.icon)?e("Icon",{staticClass:"popup-action-icon",attrs:{name:n.icon,color:n.iconColor,"data-index":o}}):e("Icon",{style:{width:t.iconSideLength+"px",height:t.iconSideLength+"px"},attrs:{url:n.icon,"data-index":o}})]:t._e(),t._v(" "),e("span",{staticClass:"popup-action-text",class:{danger:t.isDanger(n)},attrs:{"data-index":o}},[t._v(t._s(t.getActionName(n)))])],2)})),0)],1)])}),[],!1,null,"d92b73fc",null).exports,u=e(167);const m={wechat:{icon:u.b.get("wechat"),name:"微信"},moments:{icon:u.b.get("moments"),name:"朋友圈"},qq:{icon:u.b.get("qq"),name:"QQ"},qZone:{icon:u.b.get("qzone"),name:"QQ空间"},message:{icon:u.b.get("message"),name:"短信"},weibo:{icon:u.b.get("weibo"),name:"微博"},wallet:{icon:u.b.get("wallet"),name:"钱包"},xhs:{icon:u.b.get("xhs"),name:"小红书"}};var h={install:function(t){t.prototype.$popupAction=function(t){const n=Object(a.a)(p,{visible:!1,actions:[]}),e=t.actions.map(n=>"string"==typeof n?"share"===t.type?{...m[n],id:n}:{name:n}:n);n.props={...t,actions:e,confirm:n=>{console.log(n),t.confirm&&t.confirm(n)},cancel:()=>{n.props&&(n.props.visible=!1,n.$el.remove()),t.cancel&&t.cancel()},visible:!0}},t.prototype.$share=function(n){t.prototype.$popupAction({...n,type:"share"})}}};o.a.use(h);var d={name:"PopupActionDemo",components:{OButton:i.a},props:{currentDemo:{type:Number}},methods:{handlePopupAction(t){this.$popupAction({actions:["操作1","操作2","操作3","操作4","操作5"],...t,confirm(t){console.log("selected",t)}})},handleShare(){this.$share({ad:"https://i.loli.net/2021/04/07/UTyMhjWecx5PYv8.png",actions:["wechat","moments"]})}}},f=(e(417),Object(l.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[0===t.currentDemo?e("section",[t._v("\n    分享：\n\n    "),e("OButton",{attrs:{size:"small"},on:{click:function(n){return t.handlePopupAction({type:"share",actions:["wechat","moments","qq","qZone","message","weibo","wallet","xhs"]})}}},[t._v("点击")])],1):t._e(),t._v(" "),5===t.currentDemo?e("section",[t._v("\n    分享：（自定义内容）\n\n    "),e("OButton",{attrs:{size:"small"},on:{click:function(n){return t.handlePopupAction({type:"share",actions:["xhs",{name:"抖音",icon:"https://cdn.133.cn/ticket/h5/gtgj/img/holoUi/tiktok.png"}]})}}},[t._v("点击")])],1):t._e(),t._v(" "),1===t.currentDemo?e("section",[t._v("\n    分享:（有广告）\n\n    "),e("OButton",{attrs:{size:"small"},on:{click:t.handleShare}},[t._v("点击")])],1):t._e(),t._v(" "),2===t.currentDemo?e("section",[t._v("\n    动作：（仅文字）\n\n    "),e("OButton",{attrs:{size:"small"},on:{click:t.handlePopupAction}},[t._v("点击")])],1):t._e(),t._v(" "),3===t.currentDemo?e("section",[t._v("\n    动作：（有危险动作）\n\n    "),e("OButton",{attrs:{size:"small"},on:{click:function(n){return t.handlePopupAction({actions:[{name:"操作1"},{name:"操作2"},{name:"操作3",danger:!0},{name:"操作4"},{name:"操作5"}]})}}},[t._v("点击")])],1):t._e(),t._v(" "),4===t.currentDemo?e("section",[t._v("\n    动作：（有icon）\n\n    "),e("OButton",{attrs:{size:"small"},on:{click:function(n){return t.handlePopupAction({actions:[{name:"操作1",icon:"o-train"},{name:"操作2",icon:"o-close"},{name:"操作3",icon:"o-help"},{name:"操作4",icon:"https://i.loli.net/2021/04/07/gHpUJKwyTuCNzht.png"},{name:"操作5",icon:"https://i.loli.net/2021/04/07/r9LXR2lDp7PUiQH.png"}]})}}},[t._v("点击")])],1):t._e()])}),[],!1,null,"56c5c19c",null));n.default=f.exports}}]);